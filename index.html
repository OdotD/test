<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>JDC 셔틀버스 노선</title>
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=92548xgflo"></script>
    <style>
        #map { width: 100%; height: 500px; }
        .buttons {
            margin: 10px;
        }
        .buttons button {
            padding: 10px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="buttons">
        <button onclick="drawRoute('route1')">1. 신제주1(외도)</button>
        <button onclick="drawRoute('route2')">2. 신제주2(신제주)</button>
        <button onclick="drawRoute('route3')">3. 구제주1(용담)</button>
        <button onclick="drawRoute('route4')">4. 구제주2(삼양)</button>
        <button onclick="drawRoute('route5')">5. 항공우주박물관</button>
    </div>
    <div id="map"></div>

    <script>
        // 지도 생성
        var map = new naver.maps.Map('map', {
            center: new naver.maps.LatLng(33.453404, 126.572569),
            zoom: 13,
            mapTypes: new naver.maps.MapTypeRegistry({
                'normal': naver.maps.NaverStyleMapTypeOptions.getNormalMap(
                    {
                        overlayType: 'bg.ol.bs.lko'
                    }
                )
          })
      })

        let polyline = null;
        let markers = [];

        var infoWindow = new naver.maps.InfoWindow({
            anchorSkew: true,
            pixelOffset: new naver.maps.Point(0,-10)
        });

        const routes = {
            route1: {
                path: [
                    [33.485799, 126.430909],
                    [33.484033, 126.430930],
                    [33.484009, 126.435072],
                    [33.482451, 126.440106],
                    [33.481918, 126.444923],
                    [33.479447, 126.453248],
                    [33.479120, 126.464196],
                    [33.479835, 126.466033],
                    [33.481995, 126.463531],
                    [33.483535, 126.463914],
                    [33.485595, 126.466376],
                    [33.484151, 126.468085],
                    [33.483373, 126.469000],
                    [33.487304, 126.474049],
                    [33.488879, 126.476085],
                    [33.485746, 126.479650],
                    [33.484311, 126.480250],
                    [33.482059, 126.481243],
                    [33.482051, 126.482274],
                    [33.481917, 126.486302],
                    [33.481828, 126.489893],
                    [33.485841, 126.490055],
                    [33.485813, 126.491013],
                    [33.485665, 126.496466],
                    [33.485048, 126.496423],
                    [33.482062, 126.496371],
                    [33.481462, 126.496624],
                    [33.480652, 126.497007],
                    [33.474836, 126.502032],
                    [33.472947, 126.504781],
                    [33.472679, 126.506395],
                    [33.470827, 126.509161],
                    [33.467129, 126.510869],
                    [33.466887, 126.511792],
                    [33.467129, 126.513299],
                    [33.466744, 126.514018],
                    [33.460568, 126.515305],
                    [33.460407, 126.518234],
                    [33.461839, 126.533222],
                    [33.462376, 126.546258],
                    [33.463387, 126.555914],
                    [33.464721, 126.560924],
                    [33.467889, 126.569797],
                    [33.465544, 126.569378],
                    [33.461141, 126.569260],
                    [33.460371, 126.569700],
                    [33.459458, 126.571095],
                    [33.457372, 126.571546],
                    [33.456378, 126.571353],
                    [33.454857, 126.571503],
                    [33.454910, 126.572962],
                    [33.453380, 126.573155],
                    [33.453353, 126.572629]
                ],
                waypoints: [
                    { coord: [33.485799, 126.430855], name: "루스트플레이스외도점 (외도점 앞)" },
                    { coord: [33.479921, 126.451231], name: "도평초등학교 정문 (엘정보통신 앞)" },
                    { coord: [33.484060, 126.468003], name: "미리내중흥s아파트 맞은편 (유드림마트앞)" },
                    { coord: [33.487241, 126.474101], name: "한국방송통신대학 정류장 (노형우체국 방면)" },
                    { coord: [33.484297, 126.480098], name: "신제주이마트 맞은편 (제주은행 앞)" },
                    { coord: [33.481908, 126.482272], name: "롯데마트 맞은편 (롯데마트 정류장)" },
                    { coord: [33.481821, 126.486307], name: "해오름아파트 정류장 (농협은행 앞)" },
                    { coord: [33.485734, 126.491013], name: "은남동 정류장 (신라스테이제주 앞)" },
                    { coord: [33.485049, 126.496284], name: "신제주초등학교 정류장 (태홍누리안 5차 앞)" },
                    { coord: [33.481443, 126.496476], name: "KCTV 정문" },
                    { coord: [33.453404, 126.572569], name: "첨단과기단지 엘리트빌딩" }
                ]
            },
            route2: {
                path: [
                    [33.453353, 126.572629],
                    [33.453380, 126.573155],
                    [33.454997, 126.572975],
                    [33.454847, 126.571550], 
                    [33.456209, 126.571387],
                    [33.457782, 126.571604],
                    [33.459416, 126.571198],
                    [33.459401, 126.571180],
                    [33.460774, 126.569394],
                    [33.462870, 126.569308],
                    [33.462893, 126.565880],
                    [33.460635, 126.563710],
                    [33.460078, 126.562275],
                    [33.459713, 126.561233],
                    [33.457884, 126.554312],
                    [33.455983, 126.551190],
                    [33.459491, 126.550662],
                    [33.461179, 126.549675],
                    [33.467466, 126.549144],
                    [33.468339, 126.548720],
                    [33.470423, 126.545797],
                    [33.471123, 126.545553],
                    [33.473679, 126.545621],
                    [33.474625, 126.545613],
                    [33.477274, 126.544219],
                    [33.484362, 126.543299],
                    [33.485397, 126.542792],
                    [33.488963, 126.539251],
                    [33.493650, 126.534741],
                    [33.494770, 126.533634],
                    [33.492169, 126.529243],
                    [33.492145, 126.527034],
                    [33.492225, 126.519697],
                    [33.493611, 126.496853],
                    [33.491412, 126.496770],
                    [33.490021, 126.496657],
                    [33.489752, 126.496942],
                    [33.489492, 126.496634],
                    [33.489720, 126.496259],
                    [33.489742, 126.495288],
                    [33.489922, 126.488274]
                ],
                waypoints: [
                    { coord: [33.453404, 126.572569], name: "첨단과기단지 엘리트빌딩" },
                    { coord: [33.460074, 126.562411], name: "제주대학교 정류장" },
                    { coord: [33.473766, 126.545468], name: "아라주공APT 맞은편 (수협 아라지점 앞)" },
                    { coord: [33.484465, 126.543140], name: "제주여고 정류장 (아라 방면)" },
                    { coord: [33.488963, 126.539251], name: "제주중앙여고 정류장 (아라 방면)" },
                    { coord: [33.493650, 126.534741], name: "제주지방법원 정류장 (아라 방면)" },
                    { coord: [33.492021, 126.526988], name: "정부종합청사 정류장 (제민신협 앞)" },
                    { coord: [33.491444, 126.496880], name: "제주도청 신제주 로타리 정류장 (제주은행신제주금융센터)" },
                    { coord: [33.489685, 126.495303], name: "수협도지회 정류장 (국도장 앞)" },
                    { coord: [33.489907, 126.488472], name: "Leo 호텔 (7-ELEVEN 앞)" }
                ]
            },
            route3: {
                path: [
                    [33.443829, 126.572031],
                    [33.449025, 126.571467],
                    [33.453336, 126.571483],
                    [33.453328, 126.572679],
                    [33.453341, 126.573200],
                    [33.454970, 126.572948],
                    [33.454863, 126.571564],
                    [33.459164, 126.571366],
                    [33.461030, 126.569426],
                    [33.462822, 126.569204],
                    [33.462740, 126.565574],
                    [33.460556, 126.563697],
                    [33.460054, 126.562184],
                    [33.457861, 126.554288],
                    [33.455982, 126.551187],
                    [33.457154, 126.550916],
                    [33.459538, 126.550661],
                    [33.461231, 126.549640],
                    [33.465277, 126.549114],
                    [33.467881, 126.549136],
                    [33.468508, 126.548578],
                    [33.470682, 126.545681],
                    [33.473655, 126.545620],
                    [33.474753, 126.545601],
                    [33.477569, 126.544050],
                    [33.484133, 126.543328],
                    [33.485446, 126.542718],
                    [33.489512, 126.538680],
                    [33.493578, 126.534737],
                    [33.495948, 126.532463],
                    [33.498724, 126.530403],
                    [33.500711, 126.529089],
                    [33.499726, 126.523197],
                    [33.499804, 126.521320],
                    [33.500025, 126.514633],
                    [33.500123, 126.512847],
                    [33.503277, 126.512999],
                    [33.504568, 126.513032],
                    [33.506109, 126.514466],
                    [33.507972, 126.515710],
                    [33.508535, 126.516314],
                    [33.510212, 126.514319],
                    [33.509780, 126.513215],
                    [33.508830, 126.510517]
                ],
                waypoints: [
                    { coord: [33.443829, 126.572031], name: "세미양빌딩" },
                    { coord: [33.453390, 126.572674], name: "첨단과기단지 엘리트빌딩" },
                    { coord: [33.459929, 126.562184], name: "제주대학교 정류장" },
                    { coord: [33.473662, 126.545457], name: "아라주공APT 맞은편" },
                    { coord: [33.484447, 126.543154], name: "제주여고 정류장 (아라 방면)" },
                    { coord: [33.489477, 126.538650], name: "제주중앙여고 정류장 (아라 방면)" },
                    { coord: [33.493625, 126.534793], name: "제주지방법원 정류장 (아라 방면)" },
                    { coord: [33.496232, 126.532084], name: "고산동산 정류장 (영도갤럭시)" },
                    { coord: [33.498716, 126.530362], name: "제주시청 (탐앤탐스 앞)" },
                    { coord: [33.499769, 126.521318], name: "남서광마을 입구 (영구종합상사 맞은편)" },
                    { coord: [33.499957, 126.514640], name: "제주버스 터미널 정류장 (제주 시외버스 터미널)" },
                    { coord: [33.503264, 126.512959], name: "남성로타리 (갤럭시 호텔 앞)" },
                    { coord: [33.509745, 126.513234], name: "용담사거리 (영담1동 주민센터 정류장_농협 서문지점 옆" },
                    { coord: [33.508775, 126.510537], name: "용문로타리 (용문사거리 정류장_용담1동 주민센터 방면)" }
                ]
            },
            route4: {
                path: [
                    [33.453353, 126.572629],
                    [33.453380, 126.573155],
                    [33.454997, 126.572975],
                    [33.454847, 126.571550],
                    [33.456209, 126.571387],
                    [33.457782, 126.571604],
                    [33.459416, 126.571198],
                    [33.459401, 126.571180],
                    [33.460774, 126.569394],
                    [33.465477, 126.569352],
                    [33.470532, 126.570475],
                    [33.473693, 126.569850],
                    [33.475002, 126.570271],
                    [33.475758, 126.569773],
                    [33.476972, 126.567761],
                    [33.477950, 126.567594],
                    [33.478084, 126.566167],
                    [33.478580, 126.564609],
                    [33.481390, 126.561619],
                    [33.482959, 126.558516],
                    [33.488981, 126.553066],
                    [33.490569, 126.551392],
                    [33.494157, 126.548726],
                    [33.496020, 126.547287],
                    [33.499956, 126.544379],
                    [33.500708, 126.543795],
                    [33.498915, 126.540417],
                    [33.497601, 126.537977],
                    [33.499576, 126.536229],
                    [33.502491, 126.537164],
                    [33.503455, 126.536848],
                    [33.503632, 126.536751],
                    [33.504168, 126.536414],
                    [33.506657, 126.539473],
                    [33.509819, 126.543267],
                    [33.512127, 126.548916],
                    [33.513903, 126.554979],
                    [33.518751, 126.564286],
                    [33.518796, 126.565453],
                    [33.518785, 126.566802],
                    [33.519300, 126.570190],
                    [33.519895, 126.571710],
                    [33.518766, 126.572581],
                    [33.518462, 126.573054],
                    [33.517303, 126.573190],
                    [33.517303, 126.576388],
                    [33.517386, 126.584670],
                    [33.517236, 126.585717],
                    [33.517172, 126.586321],
                    [33.517962, 126.586114],
                    [33.518898, 126.585640],
                    [33.521057, 126.585296],
                    [33.521078, 126.584461]
                ],
                waypoints: [
                    { coord: [33.453404, 126.572569], name: "첨단과기단지 엘리트빌딩" },
                    { coord: [33.476667, 126.568208], name: "영평상동 마을회관 정류장 (영평동 마을회관 앞)" },
                    { coord: [33.494100, 126.548666], name: "한마음 병원 정류장(한일베라체 방면)" },
                    { coord: [33.495957, 126.547139], name: "통계인재개발원 제주분원 입구 (근로복지공단 옆)" },
                    { coord: [33.499925, 126.544318], name: "황포돛대 (경제통상진흥원 정류장_동광초 방면)" },
                    { coord: [33.498825, 126.540643], name: "동부경찰서 후문 (청룡반점 맞은편)" },
                    { coord: [33.503614, 126.536698], name: "인화 초등학교 정류장 (문예회관 방면)" },
                    { coord: [33.506776, 126.539375], name: "화북남문 정류장 전 공중전화박스 (skt 대리점 앞)" },
                    { coord: [33.518879, 126.565476], name: "제주동중학교 맞은편 (화북제주은행 앞)" },
                    { coord: [33.517416, 126.576365], name: "동화마을 사거리 제2어린이 공원 앞 (횡단보도 앞)" },
                    { coord: [33.517300, 126.585744], name: "오름중학교 맞은편" },
                    { coord: [33.521034, 126.584461], name: "농헙 삼양지점 (동명아파트 맞은편)" }
                ]
            },
            route5: {
                path: [
                    [33.514518, 126.573115],
                    [33.517322, 126.573183],
                    [33.520283, 126.572797],
                    [33.519293, 126.570188],
                    [33.518781, 126.566531],
                    [33.518817, 126.565163],
                    [33.518754, 126.564289],
                    [33.513819, 126.554778],
                    [33.512089, 126.548806],
                    [33.509779, 126.543261],
                    [33.506626, 126.539422],
                    [33.503822, 126.535987],
                    [33.500720, 126.529031],
                    [33.499425, 126.529944],
                    [33.494960, 126.533332],
                    [33.494552, 126.533298],
                    [33.494473, 126.533161],
                    [33.492573, 126.530270],
                    [33.492180, 126.528757],
                    [33.492295, 126.519680],
                    [33.493637, 126.496881],
                    [33.490060, 126.496588],
                    [33.489759, 126.496261],
                    [33.489911, 126.490215],
                    [33.489950, 126.489499],
                    [33.490999, 126.489543],
                    [33.491483, 126.489030],
                    [33.491422, 126.488929],
                    [33.491195, 126.488584],
                    [33.489194, 126.484782],
                    [33.487420, 126.481947],
                    [33.485934, 126.479484],
                    [33.484708, 126.480065],
                    [33.483774, 126.480520],
                    [33.477916, 126.482704],
                    [33.476472, 126.483286],
                    [33.476333, 126.483063],
                    [33.476387, 126.477653],
                    [33.479063, 126.474228],
                    [33.480685, 126.472304],
                    [33.478154, 126.467821],
                    [33.477780, 126.467396],
                    [33.475711, 126.466065],
                    [33.471732, 126.461723],
                    [33.469190, 126.459725],
                    [33.467123, 126.457526],
                    [33.465046, 126.455959],
                    [33.463775, 126.455391],
                    [33.463372, 126.454425],
                    [33.463077, 126.452140],
                    [33.462698, 126.451144],
                    [33.462488, 126.450690],
                    [33.458822, 126.445101],
                    [33.440809, 126.429401],
                    [33.438831, 126.427366],
                    [33.427661, 126.412306],
                    [33.418623, 126.405100],
                    [33.404360, 126.383131],
                    [33.402894, 126.381208],
                    [33.367902, 126.368160],
                    [33.364213, 126.366593],
                    [33.356046, 126.361126],
                    [33.330783, 126.354355],
                    [33.306473, 126.342509],
                    [33.309976, 126.340854],
                    [33.310249, 126.340865],
                    [33.310316, 126.340591],
                    [33.310213, 126.340269],
                    [33.310289, 126.339218],
                    [33.309871, 126.334792],
                    [33.309512, 126.326005],
                    [33.310472, 126.318398],
                    [33.309073, 126.307712],
                    [33.308140, 126.302959],
                    [33.307459, 126.300835],
                    [33.305029, 126.299333]
                ],
                waypoints: [
                    { coord: [33.514539, 126.573223], name: "화북우체국 (필마트 맞은편)" },
                    { coord: [33.519027, 126.565168], name: "화북남문 정류장 (화북초등학교 방면)" },
                    { coord: [33.506762, 126.539314], name: "인화 초등학교 정류장 (문예회관 방면)" },
                    { coord: [33.499403, 126.529923], name: "제주시청 (탐앤탐스 앞)" },
                    { coord: [33.494631, 126.533116], name: "김기수안과 (투썸플레이스 앞)" },
                    { coord: [33.489937, 126.490236], name: "삼무공원 사거리 (올리브영 앞)" },
                    { coord: [33.491578, 126.488866], name: "어머니빵집 (연동한일시티 파크 정류장)" },
                    { coord: [33.484683, 126.480033], name: "신제주 이마트 맞은편 (원노형마을 정류장)" },
                    { coord: [33.478058, 126.482757], name: "으뜸마을 아파트 (으뜸마을 정류장)" },
                    { coord: [33.479117, 126.474298], name: "한라대 맞은편 (대영빌딩 앞)" },
                    { coord: [33.462802, 126.451099], name: "무수천 (평화로휴게소 마트 옆 정류장)" },
                    { coord: [33.310417, 126.339520], name: "동광육거리 (동광환승정류장_영어교육도시 방면)" },
                    { coord: [33.305029, 126.299333], name: "항공우주 박물관" }
                ]
            }
        };
        routes.route2.path.reverse();
        routes.route2.waypoints.reverse();
        routes.route3.path.reverse();
        routes.route3.waypoints.reverse();
        routes.route4.path.reverse();
        routes.route4.waypoints.reverse();

// 노선그리기
        function drawRoute(routeKey) {
            const route = routes[routeKey];

            if (polyline) {
                polyline.setMap(null);
            }
            markers.forEach(marker => marker.setMap(null));
            markers = [];

            const pathCoords = route.path.map(coord => new naver.maps.LatLng(coord[0], coord[1]));

            polyline = new naver.maps.Polyline({
                map: map,
                path: pathCoords,
                strokeColor: '#FF0000',
                strokeWeight: 4,
                strokeOpacity: 0.8,
            });

            // waypoint 마커 생성 + 클릭 이벤트
            route.waypoints.forEach(wp => {
                const marker = new naver.maps.Marker({
                    position: new naver.maps.LatLng(wp.coord[0], wp.coord[1]),
                    map: map
                });

                marker.stopName = wp.name;

                // 터치/클릭 시 말풍선 표시
                naver.maps.Event.addListener(marker, "click", function () {
                    infoWindow.setContent(
                        `<div style="padding:5px 10px; font-size:14px;">${marker.stopName}</div>`
                    );
                    infoWindow.open(map, marker); // 마커 바로 옆에 표시됨!
                });

                markers.push(marker);
            });

        map.setCenter(pathCoords[0]);
    }


    </script>

<div id="decription">
<p>1. 신제주1(외도) 김춘길 010-6886-5383, 차량번호: 2867</p>
<p>2. 신제주2(신제주) 김관태 010-9486-4456, 차량번호: 2899</p>
<p>3. 구제주1(용담) 이지철 010-9722-7402, 차량번호: 2847</p>
<p>4. 구제주2(삼양) 전등환 010-6395-4865, 차량번호: 2834</p>
<p>5. 항공우주박물관 오문빈 010-3146-2255, 차량번호: 2844</p>
</div>

</body>
</html>
